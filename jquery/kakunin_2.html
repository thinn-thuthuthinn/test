<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery_kakuninmondai 2</title>

    <script 
src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> 
</head>
<body>
    <h1>お問合せフォーム</h1> 
<hr /> 
<form id="parent"> 
<p>名前：<input type="text" id="name-bar" name="namae" size="40" maxlength="20" /></p> 
<p> 
都道府県： 
<select id="city-selection" name="todohuken"> 
<option value="" hidden>選択してください</option> 
<option value="1">東京都</option> 
<option value="2">神奈川県</option> 
<option value="3">千葉県</option> 
<option value="4">栃⽊県</option> 
<option value="5">群⾺県</option> 
</select> 
</p> 
<p> 
性別： 
<label><input type="radio" name="gender" value="man" />男性</label> 
<label><input type="radio" name="gender" value="woman" />女性</label> 
<label><input type="radio" name="gender" value="other" />未回答</label> 
</p> 
<p> 
6 / 27
jQuery_Bootstrap基礎.md
質問種別： 
2025-03-27
 <label 
          ><input type="checkbox" name="kinds" value="contents" />商品の内容</label > 
<label 
          ><input type="checkbox" name="kinds" value="method" />配送⽅法</label 
        > 
<label 
          ><input type="checkbox" name="kinds" value="other" />その他</label 
        > 
</p> 
<p>質問内容：</p> 
<textarea id="text-area"
name="question_contents" 
size="40" 
rows="5" 
cols="50" 
      ></textarea> 
</form>

 <div class="data"></div>
 <div class="data"></div>
 <div class="data"></div>
 <div class="data"></div>
 <div class="data"></div>
 <div class="data"></div>
 <div class="data"></div>

    <script>
        let count = 0;
        
        /* KAKUNIN 5 / SELECTION CHANGE TRIGGER */
        $(document).ready(function() {

            // クラス名dataのテキストをループで変更する 
            $(".data").each(function (index, element) { 
            $(element).text("要素：" + index); });

            $("#city-selection").change(function() {
                const selectedValue = $(this).val();
                console.log(`Selection changed! You selected: ${selectedValue}`);
                selectedValue == 1 ? $("#name-bar").prop("disabled", true) : $("#name-bar").prop("disabled", false);
            });

            $("input[name='gender']").change(function() {
                const selectedGender = $(this).val();
                console.log(`You selected: ${selectedGender}`);
            });

            $("input[name='kinds']").change(function() {
                if($(this).is(':checked')) {
                    const item = $("input[name='kinds']:checked").map(function() { return $(this).val();}).get();
                    console.log(`You checked: ${item}`);
                } else {
                    // method for when the checked items are unchecked!
                }
            });
        })

        /* KAKUNIN 4 / CLICK EVENT HANDLING 
        $(document).ready(function() {
            // ADDING BUTTONS OUTSIDE OF THE PARENT FORM
            $("#parent").after("<button type='button' id='confirm-btn'>確定</button>", "<button type='button' id='clear-btn'>クリア</button>", "<button type='button' id='send-btn'>送信</button>");

            // WRAPPING THEM IN A BLOCK LEVEL ELEMENT TO USE 'type=reset' BUTTON
            // const buttons = `
            //     <div>
            //         <button type='button' id='confirm-btn'>確定</button>
            //         <button type='reset' id='clear-btn'>クリア</button>
            //         <button type='button' id='send-btn'>送信</button>
            //     </div>`;
            // $("#parent").append(buttons);

            const $toggleElements = $("#name-bar, #city-selection ,input[name='gender'], input[name='kinds'],#text-area, #clear-btn, #send-btn");

            $("#confirm-btn").on('click', () => {
                // TYPE 2
                count+=1;
                count%2==0 ? $toggleElements.prop("disabled", false) : $toggleElements.prop("disabled", true);
                
                const msg = `Is the current count even? -> ${count%2==0 ? "Yes, it is even!": "No, it is not..."}.`;
                console.log(msg);

                // TYPE 1
                // $("#name-bar").prop("disabled", true);
                // // $("select[name='todohuken']").prop("disabled", true);
                // // OR
                // $("#city-selection").prop("disabled", true);
                // $("input[name='gender']").prop("disabled", true);
                // $("input[name='kinds']").prop("disabled", true);
                // $("#text-area").prop("disabled", true);
            });

            // WRITE THIS MANUAL CODE
            // OR, JUST USE TYPE='RESET' FOR BUTTON IN HTML
            // OR, USE .TRIGGER('RESET') IN JQUERY
            // $("#clear-btn").on('click', () => {
            //     $("#name-bar").val("");
            //     $("#city-selection").val("0");
            //     $("input[name='gender']").prop("checked", false);
            //     $("input[name='kinds']").prop("checked", false);
            //     $("#text-area").val("");
            // });

            $("#clear-btn").on('click', () => {
                $("#parent").trigger('reset');
            });

            $("#send-btn").on('click', () => {
                const txt = $("#name-bar").val();
                console.log(`name: ${txt=="" ? "no input...": txt}`);

                const location_index = $("#city-selection option:selected").val();
                const location = $("#city-selection option:selected").text();
                const confirm_text = location_index ? `location: ${location_index}, ${location}` : "location: selection not made...";
                console.log(confirm_text);

                // const isChecked = $("input[name='gender']").is(':checked');
                const gender = $("input[name='gender']:checked").val();
                console.log(`selected gender: ${gender ?? "gender not chosen..."}`);

                const type = $("input[name='kinds']:checked").map(function() { return $(this).val();}).get();
                console.log(`selected mail type: ${type=="" ? "no checked box..." : type}`);

                const txtarea = $("#text-area").val();
                console.log(`question: ${txtarea=="" ? "no content..." : txtarea}`);
            });
        });
        */

        // creating and appending new children
        /* KAKUNIN 3 / APPEND, PREPEND, AFTER, BEFORE
        $(document).ready(function() {
            $("#name-bar").after("<p> 郵便番号：<input type='text' id='postal-code-area' name='postal-code' size='40' maxlength='20'></p>");
            let control2 = $("<p> 電話番号：<input type='text' id='phone-number-box' name='phone-number' size='40' maxlength='20'></p>");
            $("#city-selection").after(control2);
            let control3 = $("<option value='6'>茨城県</option>");
            $("#city-selection").append(control3);
        });
        */
        
        /*  KAKUNIN 2 / PRE-SELECTIONS
        $(function() {
            $("#name-bar").val("eheheheh");
            $("#city-selection").val("1");
            $("input[name='gender'][value='other']").prop("checked", true);
            $("input[name='kinds']").prop("checked",true);
            $("textarea[name='question_contents']").prop("disabled",true); 
        });

        */

        // JS ver.
        // document.getElementById("name-bar").value = "hehe used js";
        // document.querySelector("select[name='todohuken']").value = '1';
        // document.querySelector("[name='gender'][value='man']").checked = true;

        // RANDOM KAKUNIN
        // $(function() {
        //     let x = $("#test");
        //     console.log(x.text());
            
        //     x.text("Orpheus Deross");
        //     $("p:last").css("color", "red");
        // });
    </script>
</body>
</html>